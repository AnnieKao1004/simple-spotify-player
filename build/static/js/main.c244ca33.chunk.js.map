{"version":3,"sources":["img/Spotify_Logo_Black.png","img/login_bg.jpg","component/page/Login.js","utils/spotify.js","StateProvider.js","reducer.js","contants/controller.js","component/layout/Sider.js","component/layout/style.js","component/layout/Header.js","hook/useController.js","component/layout/Footer.js","component/base/style.js","img/panorama.svg","component/base/HorizontalCard.js","component/base/VerticalCard.js","component/page/HomePage.js","component/page/Search/Browse.js","component/base/DataTable.js","component/page/tableCells.js","component/page/Playlist.js","component/page/Search/SearchResult.js","component/page/Search/AllSearchedTracks.js","component/page/Search/SearchPage.js","component/page/Search/CategoryList.js","component/page/ArtistTopTracks.js","component/layout/Content.js","component/layout/Layout.js","App.js","reportWebVitals.js","index.js"],"names":["Login","Box","sx","height","display","flexDirection","alignItems","justifyContent","backgroundImage","background","backgroundPosition","component","src","logo","width","Button","href","process","size","variant","color","fontSize","fontWeight","backgroundColor","grey","console","log","getSpotify","a","token","endpoint","params","withBaseUrl","url","URL","search","URLSearchParams","headers","Headers","append","fetch","response","ok","json","StateContext","createContext","StateProvider","reducer","initState","children","Provider","value","useReducer","useStateValue","useContext","SET_TOKEN","SET_CURRENT","SET_USER","SET_PLAYLIST","SET_PLAYER","SET_VOLUME","SET_DURATION","isLoggedin","current","user","player","playing","audioElement","duration","currentTime","volume","track","id","playlist","loading","name","cover","tracks","state","action","type","key","options","Icon","HomeRoundedIcon","path","ManageSearchRoundedIcon","Sider","open","setOpen","navigate","useNavigate","location","useLocation","dispatch","useEffect","forEach","pathname","split","useState","myPlaylist","setMyPlaylist","fetchMyPlaylist","useCallback","respJson","items","drawerStyle","position","top","boxSizing","borderRight","siderMenu","List","map","index","ListItem","button","selected","onClick","e","handleClick","ListItemIcon","minWidth","theme","spacing","ListItemText","primary","Divider","px","pt","rowGap","item","Chip","maxWidth","ml","pl","pr","icon","label","md","flexShrink","Drawer","onClose","ModalProps","keepMounted","bottom","sm","xs","headerHeight","Header","palette","light","main","zIndex","IconButton","sessionStorage","removeItem","useController","play","pause","newUrl","preview_url","currentUrl","Audio","trackControllerIcon","cursor","getIconStatus","enabled","transform","transition","opacity","TinyText","styled","Typography","letterSpacing","Footer","pauseTrack","playTrack","changeVolume","isFirstTrack","length","isLastTrack","onended","timer","useRef","alreadySetTimer","setInterval","clearInterval","foramtTime","time","roundedTime","Math","round","minute","floor","second","columnGap","padding","borderTop","flexBasis","album","images","borderRadius","Tooltip","title","placement","arrow","whiteSpace","textOverflow","overflow","artists","flexGrow","newId","LinearProgress","mt","Slider","aria-label","defaultValue","defaultVolume","onChangeCommitted","mx","border","boxShadow","hoverableCard","borderColor","HorizontalCard","data","imageLoaded","setImageLoaded","onPlayListClick","Card","Skeleton","animation","CardActionArea","CardMedia","defaultImg","alt","onLoad","CardContent","WebkitLineClamp","WebkitBoxOrient","wordBreak","description","VerticalCard","onCardClick","aspectRatio","margin","HomePage","Array","from","featuredPlaylist","setFeaturedPlaylist","topLists","setTopLists","fetchFeaturedPlaylist","limit","playlists","fetchTopLists","mb","Grid","container","rowSpacing","columnSpacing","zeroMinWidth","xl","Browse","gridTemplateColumns","lg","icons","onCategoryClick","lineHeight","content","left","className","textAlign","pb","DataTable","DataGrid","outline","generateNumber","getControlIcon","isCurrentTrack","isCurrent","generateTitle","artist","i","generateDuration","duration_s","duration_ms","min","sec","Playlist","fetchTracks","useParams","fetchPlaylistTracks","filter","window","scrollTo","behavior","columns","field","renderCell","row","sortable","flex","mr","Paper","rows","hideFooter","autoHeight","disableColumnFilter","disableColumnMenu","disableVirtualization","rowHeight","Searchresult","onClickSeeAll","showAllSearchedTracks","getFourTracks","slice","AllSearchedTracks","setShowAllSearchedTracks","customColumns","SearchPage","searchString","setSearchString","searchResult","setSearchResult","categories","setCategories","fetchCategories","searchArtist","q","result","searchAlbum","albums","TextField","placeholder","onChange","target","SearchResult","CategoryList","category","categoryPlaylist","setCategoryPlaylist","fetchCategoryPlaylist","ArtistTopTracks","fetchArtistTopTracks","artistInfo","market","topTracks","Content","Container","py","element","to","Layout","marginBottom","minHeight","App","createTheme","secondary","default","typography","fontFamily","join","tokenInUrl","hashStr","hash","substring","hashObj","reduce","acc","cur","parameterSet","decodeURIComponent","getHashObjFromUrl","access_token","history","replaceState","setItem","refreshToken","getItem","getUserData","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c244ca33.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Spotify_Logo_Black.0d1e5545.png\";","export default __webpack_public_path__ + \"static/media/login_bg.6a0c9085.jpg\";","import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport { Box } from '@mui/material';\r\nimport { grey } from '@mui/material/colors';\r\nimport logo from '../../img/Spotify_Logo_Black.png';\r\nimport background from '../../img/login_bg.jpg';\r\n\r\nconsole.log(process.env);\r\nexport default function Login() {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: '100vh',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundImage: `url(${background})`,\r\n        backgroundPosition: 'center',\r\n      }}\r\n    >\r\n      <Box sx={{ height: '300px' }}>\r\n        <Box\r\n          component=\"img\"\r\n          src={logo}\r\n          sx={{ width: 'auto', height: '150px' }}\r\n        ></Box>\r\n      </Box>\r\n\r\n      <Button\r\n        href={`${process.env.REACT_APP_URL}login`}\r\n        size=\"large\"\r\n        variant=\"contained\"\r\n        sx={{\r\n          color: '#ffffff',\r\n          fontSize: '16px',\r\n          fontWeight: 'fontWeightMedium',\r\n          backgroundColor: grey['600'],\r\n          '&:hover': {\r\n            backgroundColor: grey['700'],\r\n          },\r\n        }}\r\n      >\r\n        Login with Spotify\r\n      </Button>\r\n    </Box>\r\n  );\r\n}\r\n","export const getHashObjFromUrl = () => {\r\n  const hashStr = window.location.hash.substring(1);\r\n  let hashObj = {};\r\n\r\n  if (hashStr) {\r\n    hashObj = hashStr.split('&').reduce((acc, cur) => {\r\n      const parameterSet = cur.split('=');\r\n      acc[parameterSet[0]] = decodeURIComponent(parameterSet[1]);\r\n\r\n      return acc;\r\n    }, hashObj);\r\n  }\r\n\r\n  return hashObj;\r\n};\r\n\r\nexport const getSpotify = async (\r\n  token = '',\r\n  endpoint = '',\r\n  params = {},\r\n  withBaseUrl = true\r\n) => {\r\n  const url = new URL(\r\n    withBaseUrl ? `https://api.spotify.com/v1${endpoint}` : endpoint\r\n  );\r\n  url.search = new URLSearchParams(params);\r\n  const headers = new Headers();\r\n  headers.append('Authorization', `Bearer ${token}`);\r\n  headers.append('Content-Type', 'application/json');\r\n\r\n  const response = await fetch(url, {\r\n    headers,\r\n  });\r\n\r\n  if (response.ok) {\r\n    return await response.json();\r\n  }\r\n};\r\n\r\nexport const putSpotify = async (\r\n  token,\r\n  endpoint,\r\n  body,\r\n  params,\r\n  withBaseUrl = true\r\n) => {\r\n  const url = new URL(\r\n    withBaseUrl ? `https://api.spotify.com/v1${endpoint}` : endpoint\r\n  );\r\n  url.search = new URLSearchParams(params);\r\n  const headers = new Headers();\r\n  headers.append('Authorization', `Bearer ${token}`);\r\n  headers.append('Content-Type', 'application/json');\r\n\r\n  const response = await fetch(url, {\r\n    method: 'PUT',\r\n    headers,\r\n    body,\r\n  });\r\n  if (response.ok) {\r\n    return await response.json();\r\n  }\r\n};\r\n","import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({ reducer, initState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import { defaultVolume } from './contants/controller';\r\n\r\nexport const SET_TOKEN = 'SET_TOKEN';\r\nexport const SET_CURRENT = 'SET_CURRENT';\r\nexport const SET_USER = 'SET_USER';\r\nexport const SET_PLAYLIST = 'SET_PLAYLIST';\r\nexport const SET_PLAYER = 'SET_PLAYER';\r\nexport const SET_VOLUME = 'SET_VOLUME';\r\nexport const SET_DURATION = 'SET_DURATION';\r\nexport const SET_CURRENTTIME = 'SET_CURRENTTIME';\r\n\r\nexport const initState = {\r\n  isLoggedin: false,\r\n  token: '',\r\n  current: '',\r\n  user: {},\r\n  player: {\r\n    playing: false,\r\n    audioElement: null,\r\n    duration: 0,\r\n    currentTime: 0,\r\n    volume: defaultVolume,\r\n    track: {},\r\n    id: 0,\r\n  },\r\n  playlist: { loading: true, name: '', cover: null, tracks: [] },\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case SET_TOKEN:\r\n      if (action.token) {\r\n        return { ...state, isLoggedin: true, token: action.token };\r\n      } else {\r\n        return { ...state, isLoggedin: false, token: action.token };\r\n      }\r\n    case SET_CURRENT:\r\n      return { ...state, current: action.key };\r\n    case SET_USER:\r\n      return { ...state, user: action.user };\r\n    case SET_PLAYER:\r\n      return { ...state, player: { ...state.player, ...action.player } };\r\n    case SET_PLAYLIST:\r\n      return {\r\n        ...state,\r\n        playlist: {\r\n          ...state.playlist,\r\n          ...action.playlist,\r\n        },\r\n      };\r\n    case SET_VOLUME:\r\n      return { ...state, player: { ...state.player, volume: action.volume } };\r\n    case SET_DURATION:\r\n      return {\r\n        ...state,\r\n        player: { ...state.player, duration: action.duration },\r\n      };\r\n    case SET_CURRENTTIME:\r\n      return {\r\n        ...state,\r\n        player: {\r\n          ...state.player,\r\n          audioElement: {\r\n            ...state.player.audioElement,\r\n            currentTime: action.currentTime,\r\n          },\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","export const defaultVolume = 0.4;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { PropTypes } from 'prop-types';\r\nimport { Box } from '@mui/material';\r\nimport HomeRoundedIcon from '@mui/icons-material/HomeRounded';\r\nimport ManageSearchRoundedIcon from '@mui/icons-material/ManageSearchRounded';\r\nimport MusicNoteRoundedIcon from '@mui/icons-material/MusicNoteRounded';\r\n\r\nimport Drawer from '@mui/material/Drawer';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport Chip from '@mui/material/Chip';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Divider from '@mui/material/Divider';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n\r\nimport { useStateValue } from '../../StateProvider';\r\nimport { SET_CURRENT } from '../../reducer';\r\nimport { getSpotify } from '../../utils/spotify';\r\nimport { drawerWidth, footerHeight, headerHeight } from './style';\r\n\r\nconst options = [\r\n  {\r\n    name: 'Home',\r\n    Icon: HomeRoundedIcon,\r\n    path: `${process.env.PUBLIC_URL}/home`,\r\n  },\r\n  {\r\n    name: 'Search',\r\n    Icon: ManageSearchRoundedIcon,\r\n    path: `${process.env.PUBLIC_URL}/search`,\r\n  },\r\n  // { name: \"Create Playlist\", Icon: AddBoxRoundedIcon },\r\n];\r\n\r\nfunction Sider({ open = false, setOpen = () => {} }) {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [{ current, token }, dispatch] = useStateValue();\r\n\r\n  const handleClick = (e, name, path) => {\r\n    if (path) {\r\n      navigate(`/${path}`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    options.forEach(({ name, path }) => {\r\n      if (\r\n        location.pathname === `/${path}` ||\r\n        location.pathname.split('/')[1] === path\r\n      ) {\r\n        dispatch({ type: SET_CURRENT, key: name });\r\n      }\r\n    });\r\n  }, [dispatch, location.pathname]);\r\n\r\n  const handlePlaylistClick = (playlist) => {\r\n    navigate(`${process.env.PUBLIC_URL}/playlist/${playlist.id}`);\r\n    dispatch({ type: SET_CURRENT, key: 'Playlist' });\r\n  };\r\n\r\n  const [myPlaylist, setMyPlaylist] = useState([]);\r\n\r\n  const fetchMyPlaylist = useCallback(async () => {\r\n    if (token) {\r\n      const respJson = await getSpotify(token, '/me/playlists');\r\n      setMyPlaylist(respJson?.items);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    fetchMyPlaylist();\r\n  }, [fetchMyPlaylist]);\r\n\r\n  const drawerStyle = {\r\n    width: `${drawerWidth}px`,\r\n    backgroundColor: '#ffffff',\r\n    position: 'fixed',\r\n    top: `${headerHeight}px`,\r\n\r\n    '& .MuiDrawer-paper': {\r\n      position: 'static',\r\n      width: `${drawerWidth}px`,\r\n      boxSizing: 'border-box',\r\n      borderRight: 0,\r\n    },\r\n  };\r\n\r\n  const siderMenu = (\r\n    <>\r\n      <List\r\n        sx={{\r\n          '& .MuiTypography-root': {\r\n            color: 'text.primary',\r\n          },\r\n        }}\r\n      >\r\n        {options.map(({ name, Icon, path }, index) => (\r\n          <ListItem\r\n            button\r\n            key={name}\r\n            selected={current === name}\r\n            onClick={(e) => handleClick(e, name, path)}\r\n            sx={{\r\n              '&.Mui-selected': {\r\n                color: 'primary.dark',\r\n                backgroundColor: 'rgba(98, 150, 119, 0.18)',\r\n\r\n                '&:hover': {\r\n                  backgroundColor: 'rgba(98, 150, 119, 0.18)',\r\n                },\r\n              },\r\n            }}\r\n          >\r\n            <ListItemIcon\r\n              sx={{\r\n                color: 'inherit',\r\n                minWidth: (theme) => theme.spacing(5),\r\n              }}\r\n            >\r\n              <Icon />\r\n            </ListItemIcon>\r\n            <ListItemText\r\n              primary={name}\r\n              sx={{\r\n                '& .MuiTypography-root': {\r\n                  color: 'inherit',\r\n                },\r\n              }}\r\n            />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n\r\n      <Divider />\r\n\r\n      <Box\r\n        sx={{\r\n          px: 2,\r\n          pt: 2,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          rowGap: (theme) => theme.spacing(1),\r\n        }}\r\n      >\r\n        {myPlaylist.map((item) => (\r\n          <Chip\r\n            key={item.name}\r\n            sx={{\r\n              width: 'fit-content',\r\n              maxWidth: '100%',\r\n              px: 1,\r\n              '& .MuiChip-icon': {\r\n                ml: 0,\r\n              },\r\n              '& .MuiChip-label': {\r\n                pl: 1,\r\n                pr: 0.5,\r\n              },\r\n            }}\r\n            icon={<MusicNoteRoundedIcon sx={{ fontSize: '16px' }} />}\r\n            color=\"primary\"\r\n            label={item.name}\r\n            onClick={() => handlePlaylistClick(item)}\r\n          />\r\n        ))}\r\n      </Box>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Box\r\n      component=\"nav\"\r\n      sx={{ width: { md: drawerWidth }, flexShrink: { md: 0 } }}\r\n    >\r\n      <Drawer\r\n        variant=\"temporary\"\r\n        open={open}\r\n        onClose={() => setOpen(!open)}\r\n        ModalProps={{\r\n          keepMounted: true, // Better open performance on mobile.\r\n        }}\r\n        sx={{\r\n          ...drawerStyle,\r\n          top: 0,\r\n          bottom: 0,\r\n          display: { sm: 'block', md: 'none' },\r\n        }}\r\n      >\r\n        {siderMenu}\r\n      </Drawer>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        sx={{\r\n          ...drawerStyle,\r\n          display: { xs: 'none', sm: 'none', md: 'block' },\r\n          height: `calc(100vh - ${headerHeight + footerHeight}px)`,\r\n        }}\r\n        open\r\n      >\r\n        {siderMenu}\r\n      </Drawer>\r\n    </Box>\r\n  );\r\n}\r\n\r\nSider.propTypes = {\r\n  open: PropTypes.bool,\r\n  setOpen: PropTypes.func,\r\n};\r\n\r\nexport default Sider;\r\n","export const footerHeight = 96;\r\nexport const headerHeight = 64;\r\nexport const drawerWidth = 200;\r\n","import React from 'react';\r\nimport { PropTypes } from 'prop-types';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Box from '@mui/material/Box';\r\nimport FormatIndentDecreaseRoundedIcon from '@mui/icons-material/FormatIndentDecreaseRounded';\r\n\r\nimport LogoutRoundedIcon from '@mui/icons-material/LogoutRounded';\r\nimport { useStateValue } from '../../StateProvider';\r\nimport { SET_TOKEN } from '../../reducer';\r\nimport { headerHeight } from './style';\r\n\r\nfunction Header({ setOpen = () => {} }) {\r\n  const [, dispatch] = useStateValue();\r\n  const navigate = useNavigate();\r\n\r\n  const onClickLogout = () => {\r\n    dispatch({ type: SET_TOKEN, token: '' });\r\n    sessionStorage.removeItem('isLoggedin');\r\n    navigate(process.env.PUBLIC_URL);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      component=\"header\"\r\n      sx={{\r\n        display: 'flex',\r\n        justifyContent: { md: 'flex-end', xs: 'space-between' },\r\n        alignItems: 'center',\r\n        px: 3,\r\n        height: headerHeight,\r\n        color: 'grey.50',\r\n        background: (theme) =>\r\n          `linear-gradient(90deg, ${theme.palette.primary.light}, ${theme.palette.primary.main})`,\r\n        position: 'sticky',\r\n        top: 0,\r\n        zIndex: 'appBar',\r\n      }}\r\n    >\r\n      <IconButton\r\n        color=\"inherit\"\r\n        sx={{ display: { md: 'none' } }}\r\n        fontSize=\"inherit\"\r\n        onClick={() => setOpen((open) => !open)}\r\n      >\r\n        <FormatIndentDecreaseRoundedIcon />\r\n      </IconButton>\r\n      <IconButton color=\"inherit\" fontSize=\"inherit\" onClick={onClickLogout}>\r\n        <LogoutRoundedIcon />\r\n      </IconButton>\r\n    </Box>\r\n  );\r\n}\r\n\r\nHeader.propTypes = { setOpen: PropTypes.func };\r\n\r\nexport default Header;\r\n","import { useEffect } from \"react\";\r\nimport { SET_PLAYER, SET_VOLUME } from \"../reducer\";\r\n\r\nfunction useController(player, dispatch) {\r\n  const pauseTrack = () => {\r\n    dispatch({\r\n      type: SET_PLAYER,\r\n      player: { playing: false },\r\n    });\r\n  };\r\n\r\n  const playTrack = (track = player.track, id = player.id) => {\r\n    const newUrl = track.preview_url;\r\n    const currentUrl = player.audioElement?.src;\r\n\r\n    // play another track\r\n    if (player.playing && newUrl !== currentUrl) {\r\n      player.audioElement.pause();\r\n      dispatch({\r\n        type: SET_PLAYER,\r\n        player: {\r\n          track,\r\n          id,\r\n          audioElement: new Audio(newUrl),\r\n        },\r\n      });\r\n      // continue to play the same track\r\n    } else if (!player.playing && newUrl === currentUrl) {\r\n      dispatch({\r\n        type: SET_PLAYER,\r\n        player: {\r\n          playing: true,\r\n        },\r\n      });\r\n      // start to play\r\n    } else {\r\n      dispatch({\r\n        type: SET_PLAYER,\r\n        player: {\r\n          playing: true,\r\n          track,\r\n          id,\r\n          audioElement: new Audio(newUrl),\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const changeVolume = (volume) => {\r\n    dispatch({\r\n      type: SET_VOLUME,\r\n      volume,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (player.audioElement) {\r\n      if (player.playing) {\r\n        player.audioElement.volume = player.volume;\r\n        player.audioElement.play();\r\n      } else if (!player.playing) {\r\n        player.audioElement.pause();\r\n      }\r\n    }\r\n  }, [dispatch, player.playing, player.volume, player.audioElement]);\r\n\r\n  return [pauseTrack, playTrack, changeVolume];\r\n}\r\n\r\nexport default useController;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport {\r\n  Box,\r\n  Slider,\r\n  Tooltip,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@mui/material\";\r\nimport VolumeDownRounded from \"@mui/icons-material/VolumeDownRounded\";\r\nimport VolumeUpRoundedIcon from \"@mui/icons-material/VolumeUpRounded\";\r\nimport PlayCircleFilledRoundedIcon from \"@mui/icons-material/PlayCircleFilledRounded\";\r\nimport PauseCircleFilledRoundedIcon from \"@mui/icons-material/PauseCircleFilledRounded\";\r\nimport SkipNextRoundedIcon from \"@mui/icons-material/SkipNextRounded\";\r\nimport SkipPreviousRoundedIcon from \"@mui/icons-material/SkipPreviousRounded\";\r\nimport { useStateValue } from \"../../StateProvider\";\r\nimport useController from \"../../hook/useController\";\r\nimport { footerHeight } from \"./style\";\r\nimport { defaultVolume } from \"../../contants/controller\";\r\nimport { SET_DURATION, SET_PLAYER } from \"../../reducer\";\r\n\r\nconst trackControllerIcon = {\r\n  color: \"primary.main\",\r\n  cursor: \"pointer\",\r\n};\r\n\r\nconst getIconStatus = (enabled) => {\r\n  if (enabled) {\r\n    return {\r\n      \":hover\": { transform: \"scale(1.2)\" },\r\n      transition: \"all 0.3s !important\",\r\n    };\r\n  } else {\r\n    return {\r\n      opacity: 0.38,\r\n      \":hover\": {},\r\n      cursor: \"auto\",\r\n    };\r\n  }\r\n};\r\n\r\nconst TinyText = styled(Typography)({\r\n  fontSize: \"0.75rem\",\r\n  opacity: 0.38,\r\n  fontWeight: 500,\r\n  letterSpacing: 0.2,\r\n});\r\n\r\nfunction Footer() {\r\n  const [{ player, playlist }, dispatch] = useStateValue();\r\n  const { tracks } = playlist;\r\n  const [pauseTrack, playTrack, changeVolume] = useController(player, dispatch);\r\n\r\n  const { track } = player;\r\n\r\n  const isFirstTrack = tracks.length && player.id === 1;\r\n  const isLastTrack = tracks.length && player.id + 1 > tracks.length;\r\n\r\n  const playPrevious = () => {\r\n    if (!isFirstTrack) {\r\n      const newId = player.id - 1;\r\n      playTrack(tracks[newId - 1], newId);\r\n    }\r\n  };\r\n\r\n  const playNext = () => {\r\n    if (!isLastTrack) {\r\n      const newId = player.id + 1;\r\n      playTrack(tracks[newId - 1], newId);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (player.audioElement) {\r\n      player.audioElement.onended = function () {\r\n        dispatch({\r\n          type: SET_PLAYER,\r\n          player: {\r\n            playing: false,\r\n            audioElement: new Audio(player.track.preview_url),\r\n          },\r\n        });\r\n      };\r\n    }\r\n  }, [dispatch, player.id, player.audioElement, player.track.preview_url]);\r\n\r\n  const timer = useRef(null);\r\n  const alreadySetTimer = useRef(false);\r\n  useEffect(() => {\r\n    if (player.playing) {\r\n      const setTimer = () => {\r\n        alreadySetTimer.current = true;\r\n        timer.current = setInterval(() => {\r\n          dispatch({\r\n            type: SET_DURATION,\r\n            duration: player.audioElement?.duration,\r\n          });\r\n        }, 200);\r\n      };\r\n\r\n      if (!alreadySetTimer.current) {\r\n        setTimer();\r\n      }\r\n    } else if (!player.playing && player.id) {\r\n      clearInterval(timer.current);\r\n      alreadySetTimer.current = false;\r\n    }\r\n  }, [player.id, player.playing, dispatch, player.audioElement?.duration]);\r\n\r\n  const foramtTime = (time) => {\r\n    if (time) {\r\n      const roundedTime = Math.round(time);\r\n      const minute = Math.floor(roundedTime / 60);\r\n      const second = roundedTime % 60;\r\n      return `${minute > 9 ? minute : `0${minute}`}:${\r\n        second > 9 ? second : `0${second}`\r\n      }`;\r\n    }\r\n    return \"00:00\";\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      component=\"footer\"\r\n      sx={{\r\n        display: \"flex\",\r\n        columnGap: \"8px\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        padding: 2,\r\n        width: \"100%\",\r\n        height: `${footerHeight}px`,\r\n        color: \"text.primary\",\r\n        borderTop: \"1px solid #dae7e3\",\r\n        position: \"fixed\",\r\n        bottom: 0,\r\n        zIndex: \"appBar\",\r\n        backgroundColor: \"background.default\",\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          flexBasis: \"30%\",\r\n          maxWidth: \"30%\",\r\n          display: \"flex\",\r\n          height: \"100%\",\r\n          columnGap: \"16px\",\r\n        }}\r\n      >\r\n        <Box\r\n          component=\"img\"\r\n          src={track.album?.images?.[0].url}\r\n          sx={{ height: \"100%\", borderRadius: 1 }}\r\n        />\r\n\r\n        <Box\r\n          sx={{\r\n            maxWidth: \"calc(100% - 80px)\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            rowGap: \"8px\",\r\n          }}\r\n        >\r\n          <Tooltip title={track.name || \"\"} placement=\"top-start\" arrow>\r\n            <Box\r\n              sx={{\r\n                fontWeight: \"fontWeightMedium\",\r\n                maxWidth: \"100%\",\r\n                whiteSpace: \"nowrap\",\r\n                textOverflow: \"ellipsis\",\r\n                overflow: \"hidden\",\r\n              }}\r\n            >\r\n              {track.name}\r\n            </Box>\r\n          </Tooltip>\r\n          <Box>{track.artists?.[0].name}</Box>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box\r\n        sx={{\r\n          flexGrow: 1,\r\n          flexShrink: 0,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            columnGap: \"16px\",\r\n          }}\r\n        >\r\n          <SkipPreviousRoundedIcon\r\n            sx={{\r\n              ...trackControllerIcon,\r\n              ...getIconStatus(player.id && !isFirstTrack),\r\n            }}\r\n            onClick={playPrevious}\r\n          />\r\n          {player.playing ? (\r\n            <PauseCircleFilledRoundedIcon\r\n              fontSize=\"large\"\r\n              sx={{\r\n                ...trackControllerIcon,\r\n                ...getIconStatus(true),\r\n              }}\r\n              onClick={pauseTrack}\r\n            />\r\n          ) : (\r\n            <PlayCircleFilledRoundedIcon\r\n              fontSize=\"large\"\r\n              sx={{\r\n                ...trackControllerIcon,\r\n                ...getIconStatus(player.audioElement),\r\n              }}\r\n              onClick={() => playTrack()}\r\n            />\r\n          )}\r\n          <SkipNextRoundedIcon\r\n            sx={{\r\n              ...trackControllerIcon,\r\n              ...getIconStatus(player.id && !isLastTrack),\r\n            }}\r\n            onClick={playNext}\r\n          />\r\n        </Box>\r\n        <LinearProgress\r\n          variant=\"determinate\"\r\n          value={\r\n            player.audioElement\r\n              ? (player.audioElement?.currentTime /\r\n                  player.audioElement?.duration) *\r\n                100\r\n              : 0\r\n          }\r\n          sx={{ width: \"100%\", mt: 1 }}\r\n        />\r\n\r\n        <Box\r\n          sx={{\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <TinyText>{foramtTime(player.audioElement?.currentTime)}</TinyText>\r\n          <TinyText>{foramtTime(player.duration)}</TinyText>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box\r\n        sx={{\r\n          flexBasis: \"30%\",\r\n          display: \"flex\",\r\n          justifyContent: \"flex-end\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <VolumeDownRounded sx={{ color: \"primary.main\", opacity: 0.38 }} />\r\n        <Slider\r\n          aria-label=\"Volume\"\r\n          defaultValue={defaultVolume * 100}\r\n          onChangeCommitted={(e, value) => changeVolume(value / 100)}\r\n          sx={{\r\n            width: \"85px\",\r\n            mx: 1,\r\n            \"& .MuiSlider-track\": {\r\n              border: \"none\",\r\n            },\r\n            \"& .MuiSlider-thumb\": {\r\n              width: 16,\r\n              height: 16,\r\n              \"&:before\": {\r\n                boxShadow: \"0 2px 8px rgba(0,0,0,0.4)\",\r\n              },\r\n              \"&:hover, &.Mui-focusVisible, &.Mui-active\": {\r\n                boxShadow: \"none\",\r\n              },\r\n            },\r\n          }}\r\n        />\r\n        <VolumeUpRoundedIcon sx={{ color: \"primary.main\", opacity: 0.38 }} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export const hoverableCard = {\r\n  transition: \"box-shadow .3s,border-color .3s\",\r\n  \":hover\": {\r\n    borderColor: \"transparent\",\r\n    boxShadow:\r\n      \"0 1px 2px -2px #00000029, 0 3px 6px #0000001f, 0 5px 12px 4px #00000017\",\r\n  },\r\n};\r\n","export default __webpack_public_path__ + \"static/media/panorama.c71fa1f3.svg\";","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardActionArea from '@mui/material/CardActionArea';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Skeleton from '@mui/material/Skeleton';\r\nimport { hoverableCard } from './style';\r\n\r\nimport defaultImg from '../../img/panorama.svg';\r\n\r\nconst height = 104;\r\n\r\nfunction HorizontalCard({ loading = true, data = {} }) {\r\n  const navigate = useNavigate();\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n\r\n  const onPlayListClick = async () => {\r\n    navigate(`${process.env.PUBLIC_URL}/playlist/${data.id}`);\r\n  };\r\n\r\n  return (\r\n    <Card sx={hoverableCard}>\r\n      {loading ? (\r\n        <Skeleton animation=\"wave\" variant=\"rectangular\" height={height} />\r\n      ) : (\r\n        <CardActionArea onClick={onPlayListClick}>\r\n          <Box sx={{ display: 'flex', height: `${height}px` }}>\r\n            <Box\r\n              sx={{\r\n                width: `${height}px`,\r\n                flexShrink: 0,\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n              }}\r\n            >\r\n              <CardMedia\r\n                component=\"img\"\r\n                sx={{\r\n                  width: '60%',\r\n                  display: imageLoaded ? 'none' : 'block',\r\n                }}\r\n                src={defaultImg} // show default image before image is loaded\r\n                alt={data.name}\r\n              />\r\n\r\n              <CardMedia\r\n                component=\"img\"\r\n                sx={{\r\n                  width: `${height}px`,\r\n                  display: imageLoaded ? 'block' : 'none',\r\n                }}\r\n                src={data.images[0].url}\r\n                alt={data.name}\r\n                onLoad={() => setImageLoaded(true)}\r\n              />\r\n            </Box>\r\n\r\n            <CardContent>\r\n              <Typography\r\n                component=\"div\"\r\n                variant=\"body1\"\r\n                sx={{\r\n                  display: '-webkit-box',\r\n                  WebkitLineClamp: '1',\r\n                  WebkitBoxOrient: 'vertical',\r\n                  overflow: 'hidden',\r\n                }}\r\n              >\r\n                {data.name}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"body2\"\r\n                color=\"text.secondary\"\r\n                component=\"div\"\r\n                sx={{\r\n                  display: '-webkit-box',\r\n                  WebkitLineClamp: '2',\r\n                  WebkitBoxOrient: 'vertical',\r\n                  overflow: 'hidden',\r\n                  wordBreak: 'break-word',\r\n                }}\r\n              >\r\n                {data.description}\r\n              </Typography>\r\n            </CardContent>\r\n          </Box>\r\n        </CardActionArea>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\nHorizontalCard.propTypes = { loading: PropTypes.bool, data: PropTypes.object };\r\n\r\nexport default HorizontalCard;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Box from '@mui/material/Box';\r\nimport Card from '@mui/material/Card';\r\nimport CardActionArea from '@mui/material/CardActionArea';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Typography from '@mui/material/Typography';\r\nimport Skeleton from '@mui/material/Skeleton';\r\nimport { hoverableCard } from './style';\r\n\r\nimport defaultImg from '../../img/panorama.svg';\r\n\r\nfunction VerticalCard({ loading = false, data = {} }) {\r\n  let navigate = useNavigate();\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n\r\n  const onCardClick = async () => {\r\n    if (data.type === 'playlist') {\r\n      navigate(`${process.env.PUBLIC_URL}/playlist/${data.id}`);\r\n    } else if (data.type === 'artist') {\r\n      navigate(`${process.env.PUBLIC_URL}/artist/${data.id}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card sx={hoverableCard}>\r\n      {loading ? (\r\n        <Skeleton animation=\"wave\" variant=\"rectangular\" height={263} />\r\n      ) : (\r\n        <CardActionArea onClick={onCardClick}>\r\n          <Box sx={{ display: 'flex', flexDirection: 'column' }}>\r\n            <Box sx={{ pt: 3, px: 2, borderRadius: '12px' }}>\r\n              <Box\r\n                sx={{\r\n                  borderRadius: '12px',\r\n                  overflow: 'hidden',\r\n                  aspectRatio: '1/1',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                }}\r\n              >\r\n                <CardMedia\r\n                  component=\"img\"\r\n                  sx={{\r\n                    width: '50%',\r\n                    margin: '0 auto',\r\n                    display: imageLoaded ? 'none' : 'block',\r\n                  }}\r\n                  src={defaultImg} // show default image before image is loaded\r\n                  alt={data.name}\r\n                />\r\n                <CardMedia\r\n                  component=\"img\"\r\n                  sx={{\r\n                    width: '100%',\r\n                    aspectRatio: '1/1',\r\n                    display: imageLoaded ? 'block' : 'none',\r\n                  }}\r\n                  src={data.images[0]?.url}\r\n                  alt={data.name}\r\n                  onLoad={() => setImageLoaded(true)}\r\n                />\r\n              </Box>\r\n            </Box>\r\n            <CardContent>\r\n              <Typography\r\n                component=\"div\"\r\n                variant=\"body1\"\r\n                sx={{\r\n                  display: '-webkit-box',\r\n                  WebkitLineClamp: '1',\r\n                  WebkitBoxOrient: 'vertical',\r\n                  overflow: 'hidden',\r\n                }}\r\n              >\r\n                {data.description || data.name}\r\n              </Typography>\r\n            </CardContent>\r\n          </Box>\r\n        </CardActionArea>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\nVerticalCard.propTypes = { loading: PropTypes.bool, data: PropTypes.object };\r\n\r\nexport default VerticalCard;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Box, Grid, Typography } from '@mui/material';\r\nimport { useStateValue } from './../../StateProvider';\r\nimport HorizontalCard from '../base/HorizontalCard';\r\nimport VerticalCard from '../base/VerticalCard';\r\nimport { getSpotify } from '../../utils/spotify';\r\n\r\nfunction HomePage() {\r\n  const [{ token }] = useStateValue();\r\n  const [featuredPlaylist, setFeaturedPlaylist] = useState({\r\n    loading: true,\r\n    data: Array.from(Array(6), () => {\r\n      return null;\r\n    }),\r\n  });\r\n  const [topLists, setTopLists] = useState({\r\n    loading: true,\r\n    data: Array.from(Array(6), () => {\r\n      return null;\r\n    }),\r\n  });\r\n\r\n  const fetchFeaturedPlaylist = useCallback(async () => {\r\n    if (token) {\r\n      const json = await getSpotify(token, '/browse/featured-playlists', {\r\n        limit: 6,\r\n      });\r\n\r\n      setFeaturedPlaylist({ loading: false, data: json.playlists.items });\r\n    }\r\n  }, [token]);\r\n\r\n  const fetchTopLists = useCallback(async () => {\r\n    if (token) {\r\n      const json = await getSpotify(\r\n        token,\r\n        '/browse/categories/toplists/playlists',\r\n        {\r\n          limit: 10,\r\n        }\r\n      );\r\n\r\n      setTopLists({ loading: false, data: json?.playlists?.items });\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    fetchFeaturedPlaylist();\r\n  }, [fetchFeaturedPlaylist]);\r\n\r\n  useEffect(() => {\r\n    fetchTopLists();\r\n  }, [fetchTopLists]);\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', flexDirection: 'column', rowGap: 3 }}>\r\n      <div>\r\n        <Typography\r\n          variant=\"h4\"\r\n          component=\"div\"\r\n          sx={{ mb: 2, fontWeight: 'medium' }}\r\n        >\r\n          Welcome\r\n        </Typography>\r\n        <Grid item container rowSpacing={2} columnSpacing={3} zeroMinWidth>\r\n          {featuredPlaylist.data.map((item, index) => (\r\n            <Grid item xs={12} sm={6} md={4} xl={4} key={index}>\r\n              <HorizontalCard data={item} loading={featuredPlaylist.loading} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      </div>\r\n\r\n      <div>\r\n        <Typography\r\n          variant=\"h5\"\r\n          component=\"div\"\r\n          sx={{ mb: 2, fontWeight: 'medium' }}\r\n        >\r\n          Top Lists\r\n        </Typography>\r\n        <Grid item container rowSpacing={2} columnSpacing={3} zeroMinWidth>\r\n          {topLists.data.map((item, index) => (\r\n            <Grid item xs={12} sm={4} md={3} xl={2} key={index}>\r\n              <VerticalCard data={item} loading={topLists.loading} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      </div>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Box } from '@mui/material';\r\n\r\nconst Browse = ({ data = [] }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const onCategoryClick = (id) => {\r\n    navigate(id);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        maxWidth: '100%',\r\n        display: 'grid',\r\n        gridTemplateColumns: {\r\n          xs: 'repeat(2, minmax(0, 1fr))',\r\n          sm: 'repeat(3, minmax(0, 1fr))',\r\n          md: 'repeat(4, minmax(0, 1fr))',\r\n          lg: 'repeat(4, minmax(0, 1fr))',\r\n        },\r\n        columnGap: '24px',\r\n        rowGap: '24px',\r\n      }}\r\n    >\r\n      {data.map((item) => {\r\n        const { name, id } = item;\r\n        const src = item.icons[0].url;\r\n\r\n        return (\r\n          <Box\r\n            key={id}\r\n            onClick={() => onCategoryClick(id)}\r\n            sx={{\r\n              lineHeight: 0,\r\n              borderRadius: '8px',\r\n              overflow: 'hidden',\r\n              position: 'relative',\r\n\r\n              // gradient cover\r\n              '::before': {\r\n                content: '\"\"',\r\n                background:\r\n                  'linear-gradient(to bottom,\trgba(0,0,0,0) 0%,\trgba(0,0,0,0.7) 100%)',\r\n                width: '100%',\r\n                height: '50%',\r\n                position: 'absolute',\r\n                top: '100%',\r\n                left: 0,\r\n                zIndex: 2,\r\n                opacity: 0,\r\n                transition: 'all 0.3s',\r\n              },\r\n\r\n              ':hover': {\r\n                cursor: 'pointer',\r\n                '::before': {\r\n                  top: '50%',\r\n                  opacity: 1,\r\n                },\r\n\r\n                '.title': {\r\n                  bottom: 0,\r\n                },\r\n              },\r\n            }}\r\n          >\r\n            <Box\r\n              component=\"img\"\r\n              src={src}\r\n              alt={name}\r\n              sx={{ width: '100%', aspectRatio: '1/1' }}\r\n            />\r\n            <Box\r\n              className=\"title\"\r\n              sx={{\r\n                width: '100%',\r\n                lineHeight: 'normal',\r\n                textAlign: 'center',\r\n                position: 'absolute',\r\n                bottom: '-100px',\r\n                left: 0,\r\n                zIndex: 3,\r\n                transition: 'all 0.3s',\r\n                color: 'common.white',\r\n                pb: 1,\r\n              }}\r\n            >\r\n              {name}\r\n            </Box>\r\n          </Box>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n};\r\n\r\nBrowse.propTypes = { data: PropTypes.array };\r\n\r\nexport default Browse;\r\n","import { DataGrid } from \"@mui/x-data-grid\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst DataTable = styled(DataGrid)({\r\n  border: 0,\r\n  padding: 0,\r\n  \".MuiDataGrid-cell, .MuiDataGrid-columnHeader\": {\r\n    \"&:focus\": {\r\n      outline: \"none\",\r\n    },\r\n  },\r\n  \".MuiDataGrid-cell--withRenderer\": {\r\n    display: \"block\",\r\n    \".number.current\": {\r\n      display: \"none\",\r\n    },\r\n    \".play\": {\r\n      display: \"none\",\r\n    },\r\n    \".current\": {\r\n      display: \"initial\",\r\n    },\r\n  },\r\n  \".MuiDataGrid-row:hover\": {\r\n    \".number\": {\r\n      display: \"none\",\r\n      \"&.noPreview\": { display: \"initial\" },\r\n    },\r\n    \".play\": {\r\n      display: \"initial\",\r\n    },\r\n  },\r\n\r\n  // \".MuiDataGrid-row.Mui-selected\": {\r\n  //   \".number\": {\r\n  //     display: \"none\",\r\n  //   },\r\n  //   \".play\": {\r\n  //     display: \"initial\",\r\n  //   },\r\n  // },\r\n});\r\n\r\nexport default DataTable;\r\n","import { Box } from \"@mui/material\";\r\nimport PlayCircleFilledRoundedIcon from \"@mui/icons-material/PlayCircleFilledRounded\";\r\nimport PauseCircleFilledRoundedIcon from \"@mui/icons-material/PauseCircleFilledRounded\";\r\nimport { grey } from \"@mui/material/colors\";\r\n\r\n// Generate playlist columns\r\nexport const generateNumber = (\r\n  player = {},\r\n  track = {},\r\n  id = 0,\r\n  pauseTrack = () => {},\r\n  playTrack = () => {}\r\n) => {\r\n  const getControlIcon = (isCurrentTrack) => {\r\n    if (isCurrentTrack) {\r\n      return player.playing ? (\r\n        <PauseCircleFilledRoundedIcon\r\n          className={`play ${isCurrentTrack ? \"current\" : \"\"}`}\r\n          onClick={pauseTrack}\r\n        />\r\n      ) : (\r\n        <PlayCircleFilledRoundedIcon\r\n          className={`play ${isCurrentTrack ? \"current\" : \"\"}`}\r\n          onClick={() => playTrack(track, id)}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <PlayCircleFilledRoundedIcon\r\n        className={`play ${isCurrentTrack ? \"current\" : \"\"}`}\r\n        onClick={() => playTrack(track, id)}\r\n      />\r\n    );\r\n  };\r\n\r\n  const isCurrent = track?.preview_url === player.track?.preview_url;\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n\r\n        \"& .play\": {\r\n          transition: \"all 0.3s\",\r\n          \"&:hover\": {\r\n            cursor: \"pointer\",\r\n            color: grey[600],\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      <div\r\n        className={`number ${isCurrent ? \"current\" : \"\"} ${\r\n          track?.preview_url ? \"\" : \"noPreview\"\r\n        }`}\r\n      >\r\n        {id}\r\n      </div>\r\n      {track?.preview_url && getControlIcon(isCurrent)}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport const generateTitle = (track = {}) => {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        rowGap: (theme) => theme.spacing(1),\r\n        \"& div\": {\r\n          lineHeight: \"initial\",\r\n          overflow: \"hidden\",\r\n          whiteSpace: \"nowrap\",\r\n          textOverflow: \"ellipsis\",\r\n\r\n          \"&:nth-child(2)\": {\r\n            color: grey[500],\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      <div>{track.name}</div>\r\n      <div>\r\n        {track.artists?.map((artist, i) => {\r\n          if (!!i) {\r\n            return `, ${artist.name}`;\r\n          } else {\r\n            return artist.name;\r\n          }\r\n        })}\r\n      </div>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport const generateDuration = (track = {}) => {\r\n  const duration_s = Math.round(track.duration_ms / 1000);\r\n  const min = Math.floor(duration_s / 60);\r\n  let sec = duration_s % 60;\r\n  if (`${sec}`.length < 2) {\r\n    sec = `0${sec}`;\r\n  }\r\n  return `${min}:${sec}`;\r\n};\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\nimport { Box, Skeleton, Typography } from \"@mui/material\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { useStateValue } from \"../../StateProvider\";\r\nimport useController from \"../../hook/useController\";\r\nimport { getSpotify } from \"../../utils/spotify\";\r\nimport { SET_PLAYLIST, SET_PLAYER } from \"../../reducer\";\r\nimport DataTable from \"../base/DataTable\";\r\nimport { generateNumber, generateTitle, generateDuration } from \"./tableCells\";\r\n\r\nfunction Playlist({ fetchTracks }) {\r\n  const [{ token, player, playlist }, dispatch] = useStateValue();\r\n  const { name, cover, tracks } = playlist;\r\n  const [pauseTrack, playTrack] = useController(player, dispatch);\r\n  const { id } = useParams();\r\n  const { pathname } = useLocation();\r\n\r\n  const fetchPlaylistTracks = useCallback(async () => {\r\n    if (token) {\r\n      dispatch({\r\n        type: SET_PLAYLIST,\r\n        playlist: {\r\n          loading: true,\r\n        },\r\n      });\r\n      const json = await getSpotify(token, `/playlists/${id}`);\r\n\r\n      if (json) {\r\n        dispatch({\r\n          type: SET_PLAYLIST,\r\n          playlist: {\r\n            loading: false,\r\n            name: json.name,\r\n            cover: json.images[0]?.url,\r\n            tracks: json.tracks.items\r\n              .filter((item) => item.track) // filter the track which is null\r\n              .map((item, index) => ({\r\n                ...item.track,\r\n                id: index + 1,\r\n              })),\r\n          },\r\n        });\r\n      }\r\n    }\r\n  }, [token, id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (fetchTracks) {\r\n      fetchTracks();\r\n    } else {\r\n      fetchPlaylistTracks();\r\n    }\r\n  }, [fetchTracks, fetchPlaylistTracks]);\r\n\r\n  // Change to another playlist\r\n  useEffect(() => {\r\n    // Scroll to top\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n\r\n    // Reset playlist & player id\r\n    dispatch({\r\n      type: SET_PLAYER,\r\n      player: {\r\n        id: 0,\r\n      },\r\n    });\r\n    dispatch({\r\n      type: SET_PLAYLIST,\r\n      playlist: { loading: true, name: \"\", cover: null },\r\n    });\r\n  }, [dispatch]);\r\n\r\n  const columns = [\r\n    {\r\n      field: \"#\",\r\n      renderCell: ({ row }) =>\r\n        generateNumber(player, row, row.id, pauseTrack, playTrack),\r\n      width: 50,\r\n      sortable: false,\r\n    },\r\n    {\r\n      field: \"Title\",\r\n      renderCell: ({ row }) => generateTitle(row),\r\n      flex: 1,\r\n      minWidth: 0,\r\n      sortable: false,\r\n    },\r\n    {\r\n      field: \"Album\",\r\n      renderCell: ({ row }) => {\r\n        return row.album?.name;\r\n      },\r\n      flex: 1,\r\n      minWidth: 0,\r\n      sortable: false,\r\n    },\r\n    {\r\n      field: \"Duration\",\r\n      renderCell: ({ row }) => generateDuration(row),\r\n      width: 90,\r\n      sortable: false,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {playlist.loading && pathname !== \"/search\" ? (\r\n        <Skeleton\r\n          animation=\"wave\"\r\n          variant=\"rectangular\"\r\n          width=\"100px\"\r\n          height=\"100px\"\r\n          sx={{\r\n            borderRadius: \"8px\",\r\n            overflow: \"hidden\",\r\n            mb: 2,\r\n          }}\r\n        />\r\n      ) : playlist.name ? (\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            height: \"100px\",\r\n            mb: 2,\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              width: \"100px\",\r\n              height: \"100px\",\r\n              borderRadius: \"8px\",\r\n              overflow: \"hidden\",\r\n\r\n              mr: 2,\r\n            }}\r\n          >\r\n            <Box component=\"img\" src={cover} sx={{ width: \"100%\" }} />\r\n          </Box>\r\n          <Typography\r\n            variant=\"h5\"\r\n            component=\"div\"\r\n            sx={{ fontWeight: \"medium\" }}\r\n          >\r\n            {name}\r\n          </Typography>\r\n        </Box>\r\n      ) : null}\r\n\r\n      <Paper sx={{ px: \"24px\", pt: \"16px\" }}>\r\n        <DataTable\r\n          rows={tracks}\r\n          columns={columns}\r\n          hideFooter\r\n          autoHeight\r\n          disableColumnFilter\r\n          disableColumnMenu\r\n          disableVirtualization\r\n          rowHeight={60}\r\n        />\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Playlist;\r\n","import React, { useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Typography, Box, Grid, Button } from '@mui/material';\r\nimport VerticalCard from '../../base/VerticalCard';\r\nimport Playlist from '../Playlist';\r\nimport { SET_PLAYLIST } from '../../../reducer';\r\nimport { useStateValue } from '../../../StateProvider';\r\n\r\nconst Searchresult = ({\r\n  data = {},\r\n  onClickSeeAll,\r\n  showAllSearchedTracks = false,\r\n}) => {\r\n  const [{ playlist }, dispatch] = useStateValue();\r\n  const { tracks, artists } = data;\r\n\r\n  const getFourTracks = useCallback(() => {\r\n    if (!showAllSearchedTracks) {\r\n      if (tracks?.items) {\r\n        dispatch({\r\n          type: SET_PLAYLIST,\r\n          playlist: {\r\n            loading: false,\r\n            tracks: tracks.items\r\n              .slice(0, 3)\r\n              .map((item, index) => ({ ...item, id: index + 1 })),\r\n          },\r\n        });\r\n      }\r\n    }\r\n  }, [dispatch, tracks, showAllSearchedTracks]);\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n        }}\r\n      >\r\n        {tracks && (\r\n          <>\r\n            <Typography\r\n              variant=\"h5\"\r\n              component=\"div\"\r\n              sx={{ fontWeight: 'medium' }}\r\n            >\r\n              Tracks\r\n            </Typography>\r\n            {playlist.tracks.length < tracks.items?.length && (\r\n              <Button size=\"small\" onClick={onClickSeeAll}>\r\n                See All\r\n              </Button>\r\n            )}\r\n          </>\r\n        )}\r\n      </Box>\r\n      <Playlist fetchTracks={getFourTracks} />\r\n      <Typography variant=\"h5\" component=\"div\" sx={{ fontWeight: 'medium' }}>\r\n        Artists\r\n      </Typography>\r\n      <Grid container rowSpacing={2} columnSpacing={3}>\r\n        {artists.items.map((item, index) => (\r\n          <Grid item xs={12} sm={4} md={3} xl={2} key={index} zeroMinWidth>\r\n            <VerticalCard data={item} />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nSearchresult.propTypes = {\r\n  data: PropTypes.object,\r\n  onClickSeeAll: PropTypes.func.isRequired,\r\n  showAllSearchedTracks: PropTypes.bool,\r\n};\r\n\r\nexport default Searchresult;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { IconButton } from '@mui/material';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport { useStateValue } from '../../../StateProvider';\r\nimport useController from '../../../hook/useController';\r\nimport Playlist from '../Playlist';\r\nimport { generateNumber, generateTitle, generateDuration } from '../tableCells';\r\nimport { SET_PLAYLIST } from '../../../reducer';\r\n\r\nconst AllSearchedTracks = ({ data, setShowAllSearchedTracks }) => {\r\n  const [{ player }, dispatch] = useStateValue();\r\n  const [pauseTrack, playTrack] = useController(player, dispatch);\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: SET_PLAYLIST,\r\n      playlist: {\r\n        tracks: data.items.map((item, index) => ({ ...item, id: index + 1 })),\r\n      },\r\n    });\r\n  }, [dispatch, data.items]);\r\n\r\n  const columns = [\r\n    {\r\n      field: '#',\r\n      renderCell: ({ row }) =>\r\n        generateNumber(player, row, row.id, pauseTrack, playTrack),\r\n      width: 50,\r\n      sortable: false,\r\n    },\r\n    {\r\n      field: 'Title',\r\n      renderCell: ({ row }) => generateTitle(row),\r\n      flex: 1,\r\n      minWidth: 0,\r\n      sortable: false,\r\n    },\r\n    {\r\n      field: 'Album',\r\n      renderCell: ({ row }) => {\r\n        return row.album?.name;\r\n      },\r\n      flex: 1,\r\n      minWidth: 0,\r\n      sortable: false,\r\n    },\r\n    {\r\n      field: 'Duration',\r\n      renderCell: ({ row }) => generateDuration(row),\r\n      width: 90,\r\n      sortable: false,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        color=\"primary\"\r\n        aria-label=\"back\"\r\n        component=\"div\"\r\n        sx={{ width: 'fit-content' }}\r\n      >\r\n        <ArrowBackIcon onClick={() => setShowAllSearchedTracks(false)} />\r\n      </IconButton>\r\n      <Playlist fetchTracks={() => {}} customColumns={columns} />\r\n    </>\r\n  );\r\n};\r\n\r\nAllSearchedTracks.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  setShowAllSearchedTracks: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AllSearchedTracks;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Typography, Box, TextField } from \"@mui/material\";\r\nimport Browse from \"./Browse\";\r\nimport SearchResult from \"./SearchResult\";\r\nimport AllSearchedTracks from \"./AllSearchedTracks\";\r\nimport { useStateValue } from \"../../../StateProvider\";\r\nimport { getSpotify } from \"../../../utils/spotify\";\r\n\r\nconst SearchPage = () => {\r\n  const [{ token }] = useStateValue();\r\n  const [searchString, setSearchString] = useState(\"\");\r\n  const [searchResult, setSearchResult] = useState(null);\r\n  const [showAllSearchedTracks, setShowAllSearchedTracks] = useState(false);\r\n\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const fetchCategories = useCallback(async () => {\r\n    if (token) {\r\n      const json = await getSpotify(token, \"/browse/categories\");\r\n\r\n      setCategories(json.categories.items);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, [fetchCategories]);\r\n\r\n  const searchArtist = useCallback(async () => {\r\n    if (searchString) {\r\n      const json = await getSpotify(token, \"/search\", {\r\n        type: \"artist\",\r\n        q: `artist:${searchString}`,\r\n      });\r\n      if (json) {\r\n        setSearchResult((result) => ({ ...result, artists: json.artists }));\r\n      }\r\n    } else {\r\n      setSearchResult(null);\r\n    }\r\n  }, [searchString, token]);\r\n\r\n  const searchAlbum = useCallback(async () => {\r\n    if (searchString) {\r\n      const json = await getSpotify(token, \"/search\", {\r\n        type: \"album,track\",\r\n        q: `album:${searchString}`,\r\n      });\r\n      if (json) {\r\n        setSearchResult((result) => ({\r\n          ...result,\r\n          albums: json.albums,\r\n          tracks: json.tracks,\r\n        }));\r\n      }\r\n    } else {\r\n      setSearchResult(null);\r\n    }\r\n  }, [searchString, token]);\r\n\r\n  const search = useCallback(async () => {\r\n    await searchArtist();\r\n    await searchAlbum();\r\n  }, [searchArtist, searchAlbum]);\r\n\r\n  useEffect(() => {\r\n    search();\r\n  }, [search]);\r\n\r\n  const onClickSeeAll = () => {\r\n    setShowAllSearchedTracks(true);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", rowGap: \"16px\" }}>\r\n      {!showAllSearchedTracks && (\r\n        <TextField\r\n          size=\"small\"\r\n          placeholder=\"Search for artist or track\"\r\n          sx={{ width: \"300px\" }}\r\n          value={searchString}\r\n          onChange={(e) => setSearchString(e.target.value)}\r\n        />\r\n      )}\r\n      {searchResult ? (\r\n        showAllSearchedTracks ? (\r\n          <AllSearchedTracks\r\n            data={searchResult.tracks}\r\n            setShowAllSearchedTracks={setShowAllSearchedTracks}\r\n          />\r\n        ) : (\r\n          <SearchResult\r\n            data={searchResult}\r\n            onClickSeeAll={onClickSeeAll}\r\n            showAllSearchedTracks={showAllSearchedTracks}\r\n          />\r\n        )\r\n      ) : (\r\n        <>\r\n          <Box>\r\n            <Typography\r\n              variant=\"h5\"\r\n              component=\"div\"\r\n              sx={{ fontWeight: \"medium\" }}\r\n            >\r\n              Browse all\r\n            </Typography>\r\n          </Box>\r\n          <Browse data={categories} />\r\n        </>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Grid } from '@mui/material';\r\nimport { useParams } from 'react-router-dom';\r\nimport VerticalCard from '../../base/VerticalCard';\r\nimport { useStateValue } from '../../../StateProvider';\r\nimport { getSpotify } from '../../../utils/spotify';\r\n\r\nconst CategoryList = () => {\r\n  const { category } = useParams();\r\n  const [{ token }] = useStateValue();\r\n  const [categoryPlaylist, setCategoryPlaylist] = useState({\r\n    loading: false,\r\n    data: [],\r\n  });\r\n\r\n  const fetchCategoryPlaylist = useCallback(async () => {\r\n    if (token) {\r\n      const json = await getSpotify(\r\n        token,\r\n        `/browse/categories/${category}/playlists`\r\n      );\r\n\r\n      if (json) {\r\n        setCategoryPlaylist({ loading: false, data: json.playlists.items });\r\n      }\r\n    }\r\n  }, [token, category]);\r\n\r\n  useEffect(() => {\r\n    fetchCategoryPlaylist();\r\n  }, [fetchCategoryPlaylist]);\r\n\r\n  return (\r\n    <Grid container rowSpacing={2} columnSpacing={3}>\r\n      {categoryPlaylist.data.map((item, index) => (\r\n        <Grid item xs={12} sm={4} md={3} xl={2} key={index} zeroMinWidth>\r\n          <VerticalCard data={item} loading={categoryPlaylist.loading} />\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default CategoryList;\r\n","import React, { useCallback } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useStateValue } from '../../StateProvider';\r\nimport Playlist from './Playlist';\r\nimport { getSpotify } from '../../utils/spotify';\r\nimport { SET_PLAYLIST } from '../../reducer';\r\n\r\nconst ArtistTopTracks = () => {\r\n  const [{ token }, dispatch] = useStateValue();\r\n  const { id } = useParams();\r\n\r\n  const fetchArtistTopTracks = useCallback(async () => {\r\n    dispatch({\r\n      type: SET_PLAYLIST,\r\n      playlist: {\r\n        loading: true,\r\n      },\r\n    });\r\n    const artistInfo = await getSpotify(token, `/artists/${id}`);\r\n    const topTracks = await getSpotify(token, `/artists/${id}/top-tracks`, {\r\n      market: 'ES',\r\n    });\r\n\r\n    dispatch({\r\n      type: SET_PLAYLIST,\r\n      playlist: {\r\n        loading: false,\r\n        name: artistInfo.name,\r\n        cover: artistInfo.images?.[0].url,\r\n        tracks: topTracks.tracks.map((track, index) => ({\r\n          ...track,\r\n          id: index + 1,\r\n        })),\r\n      },\r\n    });\r\n  }, [token, id, dispatch]);\r\n\r\n  return <Playlist fetchTracks={fetchArtistTopTracks} />;\r\n};\r\n\r\nexport default ArtistTopTracks;\r\n","import React from 'react';\r\nimport { Routes, Route, Navigate } from 'react-router-dom';\r\nimport { Container } from '@mui/material';\r\nimport HomePage from '../page/HomePage';\r\nimport SearchPage from '../page/Search/SearchPage';\r\nimport CategoryList from '../page/Search/CategoryList';\r\nimport Playlist from '../page/Playlist';\r\nimport ArtistTopTracks from '../page/ArtistTopTracks';\r\n\r\nfunction Content() {\r\n  return (\r\n    <Container maxWidth=\"xl\" sx={{ py: 3, height: '100%' }}>\r\n      <Routes>\r\n        <Route path={`${process.env.PUBLIC_URL}/home`} element={<HomePage />} />\r\n        <Route\r\n          path={`${process.env.PUBLIC_URL}/search`}\r\n          element={<SearchPage />}\r\n        />\r\n        <Route\r\n          path={`${process.env.PUBLIC_URL}/search/:category`}\r\n          element={<CategoryList />}\r\n        />\r\n        <Route\r\n          path={`${process.env.PUBLIC_URL}/playlist/:id`}\r\n          element={<Playlist />}\r\n        />\r\n        <Route\r\n          path={`${process.env.PUBLIC_URL}/artist/:id`}\r\n          element={<ArtistTopTracks />}\r\n        />\r\n        <Route\r\n          path=\"/*\"\r\n          element={<Navigate to={`${process.env.PUBLIC_URL}/home`} />}\r\n        />\r\n      </Routes>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Content;\r\n","import React, { useState } from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport Sider from \"./Sider\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Content from \"./Content\";\r\nimport { headerHeight, footerHeight } from \"./style\";\r\n\r\nfunction Layout() {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <Header open={open} setOpen={setOpen} />\r\n      <Box\r\n        component=\"section\"\r\n        sx={{\r\n          display: \"flex\",\r\n          flexGrow: 1,\r\n          marginBottom: `${footerHeight}px`,\r\n          minHeight: `calc(100vh - ${headerHeight + footerHeight}px)`,\r\n        }}\r\n      >\r\n        <Sider open={open} setOpen={setOpen} />\r\n        <Box sx={{ flexGrow: 1, maxWidth: \"100%\" }}>\r\n          <Content />\r\n        </Box>\r\n      </Box>\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Layout;\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Login from './component/page/Login';\r\nimport { getHashObjFromUrl, getSpotify } from './utils/spotify';\r\nimport { useStateValue } from './StateProvider';\r\nimport { SET_TOKEN, SET_USER } from './reducer';\r\nimport Layout from './component/layout/Layout';\r\n\r\nfunction App() {\r\n  const navigate = useNavigate();\r\n\r\n  const [{ token, isLoggedin }, dispatch] = useStateValue();\r\n  const theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#629677',\r\n      },\r\n      secondary: {\r\n        main: '#629677',\r\n      },\r\n      background: {\r\n        default: '#f3f7f6',\r\n      },\r\n    },\r\n    typography: {\r\n      fontFamily: [\r\n        '-apple-system',\r\n        'BlinkMacSystemFont',\r\n        '\"Segoe UI\"',\r\n        'Roboto',\r\n        '\"Helvetica Neue\"',\r\n        'Arial',\r\n        'sans-serif',\r\n        '\"Apple Color Emoji\"',\r\n        '\"Segoe UI Emoji\"',\r\n        '\"Segoe UI Symbol\"',\r\n      ].join(','),\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    const tokenInUrl = getHashObjFromUrl().access_token;\r\n    if (tokenInUrl) {\r\n      // Clear URL hash (If using window.location.hash = \"\", a \"#\" sign will still exist in URL)\r\n      window.history.replaceState(\r\n        null,\r\n        '',\r\n        window.location.pathname + window.location.search\r\n      );\r\n      dispatch({ type: SET_TOKEN, token: tokenInUrl });\r\n      sessionStorage.setItem('isLoggedin', true);\r\n      navigate(`${process.env.PUBLIC_URL}/home`);\r\n    }\r\n  }, [dispatch, navigate]);\r\n\r\n  const refreshToken = useCallback(async () => {\r\n    // The Promise returned from fetch won't reject on HTTP error status\r\n    const response = await fetch(`${process.env.REACT_APP_URL}refresh_token`);\r\n    if (response.ok) {\r\n      const respJson = await response.json();\r\n      dispatch({ type: SET_TOKEN, token: respJson.token });\r\n    }\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!token && sessionStorage.getItem('isLoggedin')) {\r\n      refreshToken();\r\n    }\r\n  }, [token, isLoggedin, refreshToken]);\r\n\r\n  const getUserData = useCallback(async () => {\r\n    if (token) {\r\n      const user = await getSpotify(token, '/me');\r\n      dispatch({ type: SET_USER, user });\r\n    }\r\n  }, [token, dispatch]);\r\n\r\n  useEffect(() => {\r\n    getUserData();\r\n  }, [getUserData]);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <ThemeProvider theme={theme}>\r\n        <CssBaseline />\r\n        {token || sessionStorage.getItem('isLoggedin') ? <Layout /> : <Login />}\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// New things in this app:\r\n// React useContext hook + useReducer hook\r\n// fetch api (only browser not node.js)\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { StateProvider } from \"./StateProvider\";\r\nimport reducer, { initState } from \"./reducer\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <StateProvider reducer={reducer} initState={initState}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </StateProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}